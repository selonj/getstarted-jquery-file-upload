@import (once) "_library";
@import (once) "_variables";

* {
  .box-sizing(border-box);
}

.fileupload-container {
  @horizontal_gap: 10px;
  @vertical_gap: 10px;
  margin: -@vertical_gap/2 -@horizontal_gap/2 ;
  .fileupload-plus, .fileupload-ui {
    margin: @vertical_gap/2 @horizontal_gap/2;
  }
}

.fileinput() {
  display: block;
  cursor: pointer;
  .size(100%, 100%);
  .transparent;
  #position > .abs > #top_left;
}

.fileupload-plus, .fileupload-ui {
  #position> .relative;
  display: inline-block;
  .border-radius(@button-radius);
}

.fileupload-plus {
  border: @button-border-width solid @button-plus-border-color;
  padding: @progress-bar-height/2 0;
  .box-sizing(content-box);
  span {
    @position: 50%;
    #position > .abs > #top_left(@position);
    & .fa {
      #position > .relative;
      left: -@position;
      margin-top: -@position;
      font-size: 350%;
      color: @button-plus-color;
    }
  }
  input {
    .fileinput();
  }
}

.fileupload-ui {
  border: @button-border-width solid @button-border-color;
  .fileupload-actionbar {
    overflow: hidden;
    #position > .abs > #top_right();
    #text > .right;
    .size(100%, auto);
    .border-top-right-radius(@button-radius - 1);
    a {
      float: right;
      background: @button-bg-color;
      color: @button-color;
      padding: @icon-button-padding;
    }
    z-index: 100;
  }
  #text > .center;
  .fileupload-preview {
    padding: 5px;
    #position > .relative;
    img {
      float:left;
      .size(100%, 100%) !important;
      .border-radius(@button-radius);
    }
  }
  .fileupload-progress {
    height: @progress-bar-height;
    .invisible;
  }
  .fileupload-progressing {
    .size(0, 100%);
    background: @progress-bg-color;
  }
  .fileupload-btn {
    background: @button-bg-color;
    color: @button-color;
    #position > .relative;
    padding: @button-padding;
    input {
      .fileinput()
    }
  }
}